<!DOCTYPE html>
<html>
<head>
	<title>User Defined Event</title>
	<meta charset="utf-8">
</head>
<body>
	<div>Hello</div>
	<script type="text/javascript">
		document.body.onload = function() {
			console.log('loaded');
			const myEvent = new CustomEvent('hello', 
				{detail: {
					name: 'world'}
				})
			window.addEventListener('hello', function(e) {
				document.write('hello', e.detail.name);
			});

			if(window.dispatchEvent) {  
			    window.dispatchEvent(myEvent);
			} else {
			    window.fireEvent(myEvent);
			}
		}
	</script>
</body>
</html>